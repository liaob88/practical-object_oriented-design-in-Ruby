## 疎結合なコードを書く
## Dependent Injection
- class A が知りたいのは class B か、class B が持っている b メソッドなのか。もし後者ならそれはダックタイプのオブジェクトで必要十分 
## 依存の隔離
### インスタンス変数の作成を分離
- 依存するインスタンス変数の作成する場合でも、作成を独自のメソッドにやらせることで initialize 時に作成するのではなく、必要な時に必要なオブジェクトを作成することkできる
  - 依存を隠蔽せず明らかにすることもできる
### 脆い外部メッセ＝を隔離する
- class A の メソッド a が、 class B インスタンスがメソッド b を持つことを知っている必要があるか？
  - b メソッドの参照が必要なら、b メソッドの実行結果値を返すメソッド _b を class A ないでs作成してそれを a メソッドないで呼べば
    - a が class B インスタンスがメソッド b を持つことを知っている必要がなくなる
    - a の　b メソッドへの依存もなくなる
## 引数の順番への依存を取り除く
- インスタンス作成時やメソッドの引数が順番に依存している場合、順番が変わる時にそれらを参照しているところ全てで影響を受ける。
### 初期化の際の引数に hash を使う
- 特に引数が不安定な場合は、args という hash を受け取りそこから引数をキーの参照で取り出す方法がよい
  ```ruby
  ...
  def initialize(args)
    @a = args[:a]
    @b = args[:b]
    @c = args[:c]
  end
  ```
  - こうすることで順番への依存は消える
  - ハッシュの「キー名」が明示的なドキュメントに
- 固定引数と、hash 引数の組み合わせなども場合によってはあり
